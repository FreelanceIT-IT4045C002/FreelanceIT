<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>In Progress Page</title>
  <!-- Bootstrap CSS -->
  <link href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
    }
    .card {
      background-color: #ffffff;
      border: 1px solid #dee2e6;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      flex: 1;
      margin: 10px;
      cursor: pointer;
    }
    .badge {
      background-color: #ffc107;
    }
    h2 {
      color: #343a40;
      text-align: left;
    }
    .project-title {
      margin-top: 20px;
      color: #343a40;
    }
  </style>
  <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
  <link rel="stylesheet" th:href="@{//cdn.datatables.net/2.1.8/css/dataTables.dataTables.min.css}">

  <!-- Custom CSS -->
  <link rel="stylesheet" th:href="@{/css/layout.css}">
  <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<header>
  <nav>
    <a href="javascript:;" class="logo">
      <img th:src="@{/images/logo.svg}" alt="">
    </a>

    <div class="menuWrap">
      <ul class="menu">
        <li>
          <a href="/">Freelance It</a>
        </li>
        <li>
          <a href="/">Home</a>
        </li>
        <li>
          <a href="/add/project">Add Project</a>
        </li>
        <li>
          <a href="/add/task">Add Task</a>
        </li>
        <li>
          <a href="/add/todo">Add ToDo</a>
        </li>
        <li>
          <a href="/inprogress">In Progress</a>
        </li>

      </ul>
    </div>
    <div class="side-menu">
      <ul>
        <li>
          <a href="javascript:;">
            <i class="fa fa-bell"></i>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <i class="fa fa-comment"></i>
          </a>
        </li>
        <li>
          <a href="javascript:;">
            <img th:src="@{/images/profile-img.jpg}" alt="">
            <span>K.Anderson <i class="fa fa-chevron-down"></i></span>
          </a>
        </li>
      </ul>
    </div>
    <div class="menu-Bar">
      <span></span>
      <span></span>
      <span></span>
    </div>
  </nav>
</header>


    <main class="main-content">
        <section class="project-section">
          <h2>Project Overview</h2>
          <div class="tasks">
            <h3>Your Tasks</h3>
            <div class="task-cards" id="taskCards">
             <!-- Dynamically generated task cards will go here -->
            </div>
           <!-- Add New Task Card -->
            <div class="add-task-card">
              <a href="/add/todo" class="add-task-link">
                <p>+</p>
                <span>Add New Task</span>
              </a>
            </div>
          </div>
        </section>
  
        <section class="logs-section">
          <h3>Logs</h3>
          <p>January - March 2024</p>
        </section>
      </main>

    <footer>
        <button class="clock-in-button">Clock In</button>
      </footer>

  <script>
  // Function to load tasks from localStorage and display them
  function loadTasks() {
    const taskCardsContainer = document.getElementById('taskCards');
    const tasks = JSON.parse(localStorage.getItem('tasks')) || [];

    taskCardsContainer.innerHTML = ''; // Clear existing tasks

    tasks.forEach((task, index) => {
      const taskCard = document.createElement('div');
      taskCard.className = 'task-card';
      taskCard.innerHTML = `
          <p>${task.title}</p>
          <span>${task.description}</span>
          <span>Assigned to: ${task.assigned}</span>
          <button onclick="deleteTask(${index})">Delete</button>
        `;
      taskCardsContainer.appendChild(taskCard);
    });
  }

  // Function to delete a task
  function deleteTask(index) {
    let tasks = JSON.parse(localStorage.getItem('tasks')) || [];
    tasks.splice(index, 1); // Remove the task at the specified index
    localStorage.setItem('tasks', JSON.stringify(tasks)); // Update localStorage
    loadTasks(); // Reload tasks to refresh the displayed list
  }

  // Call loadTasks on page load
  window.onload = loadTasks;
</script>

</body>
</html>


<!-- Bootstrap JS, Popper.js, and jQuery -->
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>